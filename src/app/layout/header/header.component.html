<header class="header">
  <div class="header-container">
    
    <!-- Burger Menu Button - Far Left -->
    <div class="header-left">
      <button class="sidebar-toggle" (click)="toggleSidebar()" [class.active]="showSidebar()">
        <div class="burger-icon">
          <span class="burger-line"></span>
          <span class="burger-line"></span>
          <span class="burger-line"></span>
        </div>
      </button>
    </div>

    <!-- Logo - Center -->
    <div class="logo-section">
      <a routerLink="/" class="logo">
        <img src="suko_black.png" alt="SUKO" class="logo-img">
      </a>
    </div>
    <!-- Right section -->
    <div class="header-right">

      <!-- Currency/Language Selector -->
      <div class="currency-selector dropdown"
           (mouseenter)="showCurrencyDropdown.set(true)"
           (mouseleave)="showCurrencyDropdown.set(false)">
        <button class="icon-btn dropdown-toggle">
          <span class="btn-text">{{ selectedCurrency() }}</span>
        </button>
        
        <div class="dropdown-menu currency-menu" [class.show]="showCurrencyDropdown()">
          <div class="dropdown-content">
            <div class="dropdown-section">
              <ul>
                <li><button (click)="setCurrency('DK / kr')" class="dropdown-link">DK / kr</button></li>
                <li><button (click)="setCurrency('SWE / sek')" class="dropdown-link">SWE / sek</button></li>
                <li><button (click)="setCurrency('EUR / €')" class="dropdown-link">EUR / €</button></li>
                <li><button (click)="setCurrency('US / $')" class="dropdown-link">US / $</button></li>
                <li><button (click)="setCurrency('UK / £')" class="dropdown-link">UK / £</button></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Search -->
      <button class="icon-btn search-btn" (click)="toggleSearch()">
        <span class="btn-text">SEARCH</span>
      </button>

      <!-- Shopping Bag -->
      <button class="icon-btn bag-btn" (click)="openBag()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M6 2L3 6V20C3 21.1 3.9 22 5 22H19C20.1 22 21 21.1 21 20V6L18 2H6Z" stroke="currentColor" stroke-width="2" fill="none"/>
          <path d="M8 6V10C8 11.1 8.9 12 10 12H14C15.1 12 16 11.1 16 10V6" stroke="currentColor" stroke-width="2" fill="none"/>
        </svg>
        <span class="bag-count" *ngIf="cartCount > 0">{{ cartCount }}</span>
      </button>
    </div>
  </div>
</header>

<!-- Sidebar Navigation -->
<div class="sidebar-overlay" [class.active]="showSidebar()" (click)="closeSidebar()"></div>
<nav class="sidebar" [class.active]="showSidebar()">
  <div class="sidebar-content">
    
    <!-- Close Button -->
    <div class="sidebar-header">
      <button class="sidebar-close" (click)="closeSidebar()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
          <path d="M19 12H5M12 19L5 12L12 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>

    <!-- Navigation Sections -->
    <div class="sidebar-navigation">
      <!-- Shop Section -->
      <div class="sidebar-section">
        <div class="sidebar-section-header" (click)="toggleSidebarSection('shop')">
          <h3>SHOP</h3>
          <svg class="section-arrow" [class.rotated]="expandedSection() === 'shop'" width="10" height="6" viewBox="0 0 12 8">
            <path d="M1 1L6 6L11 1" stroke="currentColor" stroke-width="1.5" fill="none"/>
          </svg>
        </div>
        
        <div class="sidebar-dropdown" [class.expanded]="expandedSection() === 'shop'">
          <div class="sidebar-subsection">
            <h4>CLOTHING</h4>
            <ul>
              <li><a routerLink="/shop-all" class="sidebar-link" (click)="closeSidebar()">Shop All</a></li>
              <li><a routerLink="/new-arrivals" class="sidebar-link" (click)="closeSidebar()">New Arrivals</a></li>
              <li><a routerLink="/t-shirt" class="sidebar-link" (click)="closeSidebar()">T-Shirts</a></li>
              <li><a routerLink="/hoodies" class="sidebar-link" (click)="closeSidebar()">Hoodies</a></li>
              <li><a routerLink="/shirts" class="sidebar-link" (click)="closeSidebar()">Shirts</a></li>
              <li><a routerLink="/knits" class="sidebar-link" (click)="closeSidebar()">Knits</a></li>
              <li><a routerLink="/jackets" class="sidebar-link" (click)="closeSidebar()">Jackets</a></li>
              <li><a routerLink="/shorts" class="sidebar-link" (click)="closeSidebar()">Shorts</a></li>
              <li><a routerLink="/trousers" class="sidebar-link" (click)="closeSidebar()">Trousers</a></li>
              <li><a routerLink="/accessories" class="sidebar-link" (click)="closeSidebar()">Accessories</a></li>
            </ul>
          </div>
          
        </div>
      </div>

      <!-- Features Section -->
      <div class="sidebar-section">
        <div class="sidebar-section-header" (click)="toggleSidebarSection('features')">
          <h3>FEATURES</h3>
          <svg class="section-arrow" [class.rotated]="expandedSection() === 'features'" width="10" height="6" viewBox="0 0 12 8">
            <path d="M1 1L6 6L11 1" stroke="currentColor" stroke-width="1.5" fill="none"/>
          </svg>
        </div>
        
        <div class="sidebar-dropdown" [class.expanded]="expandedSection() === 'features'">
          <ul>
            <li><a routerLink="/features/sustainability" class="sidebar-link" (click)="closeSidebar()">Sustainability</a></li>
            <li><a routerLink="/features/quality" class="sidebar-link" (click)="closeSidebar()">Quality</a></li>
            <li><a routerLink="/features/innovation" class="sidebar-link" (click)="closeSidebar()">Innovation</a></li>
            <li><a routerLink="/features/design" class="sidebar-link" (click)="closeSidebar()">Design Process</a></li>
          </ul>
        </div>
      </div>

      <!-- Support Section -->
      <div class="sidebar-section">
        <div class="sidebar-section-header" (click)="toggleSidebarSection('support')">
          <h3>SUPPORT</h3>
          <svg class="section-arrow" [class.rotated]="expandedSection() === 'support'" width="10" height="6" viewBox="0 0 12 8">
            <path d="M1 1L6 6L11 1" stroke="currentColor" stroke-width="1.5" fill="none"/>
          </svg>
        </div>
        
        <div class="sidebar-dropdown" [class.expanded]="expandedSection() === 'support'">
          <ul>
            <li><a href="#" class="sidebar-link" (click)="closeSidebar()">Contact</a></li>
            <li><a href="#" class="sidebar-link" (click)="closeSidebar()">FAQ</a></li>
            <li><a href="#" class="sidebar-link" (click)="closeSidebar()">Size Guide</a></li>
            <li><a href="#" class="sidebar-link" (click)="closeSidebar()">Shipping</a></li>
            <li><a href="#" class="sidebar-link" (click)="closeSidebar()">Returns</a></li>
          </ul>
        </div>
      </div>
    </div>
    
  </div>
</nav>
