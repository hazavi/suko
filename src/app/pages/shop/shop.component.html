<div class="shop">
  <div class="container">
    <!-- Category Header -->
    <div class="category-header">
      <h1 class="category-title">{{ getCategoryTitle() }}</h1>
      
      <!-- Product Count and View Controls -->
      <div class="header-controls">
        <p class="product-count">{{ filteredProducts.length }} products</p>
        
        <!-- View Mode Toggle -->
        <div class="view-controls">
          <button 
            class="view-btn" 
            [class.active]="viewMode === 'grid'"
            (click)="setViewMode('grid')"
            title="Grid View">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" fill="none"/>
              <rect x="14" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" fill="none"/>
              <rect x="3" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" fill="none"/>
              <rect x="14" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
          </button>
          
          <button 
            class="view-btn" 
            [class.active]="viewMode === 'compact'"
            (click)="setViewMode('compact')"
            title="Compact View">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="7" height="4" stroke="currentColor" stroke-width="2" fill="none"/>
              <rect x="14" y="3" width="7" height="4" stroke="currentColor" stroke-width="2" fill="none"/>
              <rect x="3" y="10" width="7" height="4" stroke="currentColor" stroke-width="2" fill="none"/>
              <rect x="14" y="10" width="7" height="4" stroke="currentColor" stroke-width="2" fill="none"/>
              <rect x="3" y="17" width="7" height="4" stroke="currentColor" stroke-width="2" fill="none"/>
              <rect x="14" y="17" width="7" height="4" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Products Grid -->
    <div class="products-container" [class]="'view-' + viewMode">
      <div class="product-card" *ngFor="let product of filteredProducts">
        <a [routerLink]="['/product', product.id]" class="product-link">
          <div class="product-image">
            <img [src]="getProductImage(product)" [alt]="product.name" class="product-img">
            <div *ngIf="!product.inStock" class="sold-out-overlay">SOLD OUT</div>
          </div>
          <div class="product-info">
            <h3 class="product-name">{{ product.name }}</h3>
            <div class="product-price">
              <span class="price" [class.sale]="product.originalPrice">€{{ product.price }}</span>
              <span *ngIf="product.originalPrice" class="original-price">€{{ product.originalPrice }}</span>
            </div>
          </div>
        </a>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredProducts.length === 0" class="empty-state">
      <h3>No products found</h3>
      <p>Check back soon for new arrivals</p>
    </div>
  </div>
</div>
